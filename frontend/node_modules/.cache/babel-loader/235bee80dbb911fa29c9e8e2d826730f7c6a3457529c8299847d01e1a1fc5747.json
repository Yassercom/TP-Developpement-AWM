{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({name:'',email:'',password:'',password2:''});const{name,email,password,password2}=formData;const{register,isAuthenticated,error}=useContext(AuthContext);const navigate=useNavigate();const[formError,setFormError]=useState('');useEffect(()=>{// Redirect if already authenticated\nif(isAuthenticated){navigate('/dashboard');}},[isAuthenticated,navigate]);const onChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const onSubmit=async e=>{e.preventDefault();setFormError('');if(password!==password2){setFormError('Passwords do not match');return;}const registerData={name,email,password};const success=await register(registerData);if(success){navigate('/dashboard');}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Register\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[(error||formError)&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:formError||error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",value:name,onChange:onChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",value:email,onChange:onChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:password,onChange:onChange,minLength:\"6\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password2\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password2\",name:\"password2\",value:password2,onChange:onChange,minLength:\"6\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Register\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})})]})]})})})});};export default Register;","map":{"version":3,"names":["React","useState","useContext","useEffect","Link","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","name","email","password","password2","register","isAuthenticated","error","navigate","formError","setFormError","onChange","e","target","value","onSubmit","preventDefault","registerData","success","className","children","htmlFor","type","id","required","minLength","to"],"sources":["C:/Users/Anonym/CascadeProjects/TP-Developpement-AWM/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: ''\n  });\n  const { name, email, password, password2 } = formData;\n  const { register, isAuthenticated, error } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [formError, setFormError] = useState('');\n\n  useEffect(() => {\n    // Redirect if already authenticated\n    if (isAuthenticated) {\n      navigate('/dashboard');\n    }\n  }, [isAuthenticated, navigate]);\n\n  const onChange = e => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    setFormError('');\n\n    if (password !== password2) {\n      setFormError('Passwords do not match');\n      return;\n    }\n\n    const registerData = {\n      name,\n      email,\n      password\n    };\n\n    const success = await register(registerData);\n    if (success) {\n      navigate('/dashboard');\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h2 className=\"text-center\">Register</h2>\n            </div>\n            <div className=\"card-body\">\n              {(error || formError) && (\n                <div className=\"alert alert-danger\">{formError || error}</div>\n              )}\n              <form onSubmit={onSubmit}>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"name\" className=\"form-label\">Name</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"name\"\n                    name=\"name\"\n                    value={name}\n                    onChange={onChange}\n                    required\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"email\" className=\"form-label\">Email Address</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id=\"email\"\n                    name=\"email\"\n                    value={email}\n                    onChange={onChange}\n                    required\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"password\" className=\"form-label\">Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={onChange}\n                    minLength=\"6\"\n                    required\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"password2\" className=\"form-label\">Confirm Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"password2\"\n                    name=\"password2\"\n                    value={password2}\n                    onChange={onChange}\n                    minLength=\"6\"\n                    required\n                  />\n                </div>\n                <div className=\"d-grid\">\n                  <button type=\"submit\" className=\"btn btn-primary\">\n                    Register\n                  </button>\n                </div>\n              </form>\n              <div className=\"mt-3 text-center\">\n                <p>\n                  Already have an account? <Link to=\"/login\">Login</Link>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}