{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{ItemContext}from'../context/ItemContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ItemForm=_ref=>{let{currentItem,setCurrentItem,setEditing}=_ref;const{addItem,updateItem,error,clearErrors}=useContext(ItemContext);const[formData,setFormData]=useState({title:'',description:''});useEffect(()=>{if(currentItem){setFormData({title:currentItem.title,description:currentItem.description});}},[currentItem]);const{title,description}=formData;const onChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const onSubmit=async e=>{e.preventDefault();clearErrors();if(title.trim()===''){alert('Please enter a title');return;}if(currentItem){const success=await updateItem(currentItem.id,formData);if(success){setEditing(false);setCurrentItem(null);}}else{await addItem(formData);}// Clear form if not editing\nif(!currentItem){setFormData({title:'',description:''});}};const cancelEdit=()=>{setEditing(false);setCurrentItem(null);setFormData({title:'',description:''});};return/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:currentItem?'Edit Item':'Add Item'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",name:\"title\",value:title,onChange:onChange,placeholder:\"Enter title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"description\",name:\"description\",value:description,onChange:onChange,placeholder:\"Enter description\",rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:currentItem?'Update':'Add'}),currentItem&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:cancelEdit,children:\"Cancel\"})]})]})]})]});};export default ItemForm;","map":{"version":3,"names":["React","useState","useContext","useEffect","ItemContext","jsx","_jsx","jsxs","_jsxs","ItemForm","_ref","currentItem","setCurrentItem","setEditing","addItem","updateItem","error","clearErrors","formData","setFormData","title","description","onChange","e","target","name","value","onSubmit","preventDefault","trim","alert","success","id","cancelEdit","className","children","htmlFor","type","placeholder","required","rows","onClick"],"sources":["C:/Users/myPC/CascadeProjects/TP-Developpement-AWM-C/TP-Developpement-AWM/frontend/src/components/ItemForm.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { ItemContext } from '../context/ItemContext';\r\n\r\nconst ItemForm = ({ currentItem, setCurrentItem, setEditing }) => {\r\n  const { addItem, updateItem, error, clearErrors } = useContext(ItemContext);\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (currentItem) {\r\n      setFormData({\r\n        title: currentItem.title,\r\n        description: currentItem.description\r\n      });\r\n    }\r\n  }, [currentItem]);\r\n\r\n  const { title, description } = formData;\r\n\r\n  const onChange = e => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    clearErrors();\r\n\r\n    if (title.trim() === '') {\r\n      alert('Please enter a title');\r\n      return;\r\n    }\r\n\r\n    if (currentItem) {\r\n      const success = await updateItem(currentItem.id, formData);\r\n      if (success) {\r\n        setEditing(false);\r\n        setCurrentItem(null);\r\n      }\r\n    } else {\r\n      await addItem(formData);\r\n    }\r\n\r\n    // Clear form if not editing\r\n    if (!currentItem) {\r\n      setFormData({\r\n        title: '',\r\n        description: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setEditing(false);\r\n    setCurrentItem(null);\r\n    setFormData({\r\n      title: '',\r\n      description: ''\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mb-4\">\r\n      <div className=\"card-header\">\r\n        <h3>{currentItem ? 'Edit Item' : 'Add Item'}</h3>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        <form onSubmit={onSubmit}>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              value={title}\r\n              onChange={onChange}\r\n              placeholder=\"Enter title\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"description\" className=\"form-label\">Description</label>\r\n            <textarea\r\n              className=\"form-control\"\r\n              id=\"description\"\r\n              name=\"description\"\r\n              value={description}\r\n              onChange={onChange}\r\n              placeholder=\"Enter description\"\r\n              rows=\"3\"\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              {currentItem ? 'Update' : 'Add'}\r\n            </button>\r\n            {currentItem && (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                onClick={cancelEdit}\r\n              >\r\n                Cancel\r\n              </button>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}